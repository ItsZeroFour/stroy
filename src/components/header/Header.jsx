import React, { useEffect, useState } from "react";
import style from "./style.module.scss";
import { Link } from "react-router-dom";

const Header = () => {
  const [openMenu, setOpenMenu] = useState(false);
  const [isSticky, setIsSticky] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      if (window.scrollY > 80) {
        setIsSticky(true);
      } else {
        setIsSticky(false);
      }
    };

    window.addEventListener("scroll", handleScroll);

    return () => {
      window.removeEventListener("scroll", handleScroll);
    };
  }, []);

  return (
    <header
      className={`${style.header} ${openMenu && style.header__active} ${
        isSticky && style.header__sticky
      }`}
    >
      <div className="container">
        <div className={style.header__wrapper}>
          <Link to="/">
            <div className={style.header__logo}>
              <svg
                width="70"
                height="73"
                viewBox="0 0 40 43"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M0 7.5V14L20 6.5L40 14V7.5L20 0L0 7.5Z"
                  fill="currentColor"
                />
                <path
                  d="M6.53755 43C6.04438 43 5.56841 42.9327 5.10964 42.7981C4.65661 42.6571 4.28673 42.4776 4 42.2596L4.55912 40.8558C4.82865 41.0481 5.13831 41.2083 5.48812 41.3365C5.84367 41.4583 6.19634 41.5192 6.54615 41.5192C6.78127 41.5192 6.97051 41.4968 7.11387 41.4519C7.25724 41.4006 7.36046 41.3365 7.42354 41.2596C7.49236 41.1763 7.52676 41.0801 7.52676 40.9712C7.52676 40.8173 7.46368 40.6955 7.33752 40.6058C7.21136 40.516 7.04793 40.4423 6.84722 40.3846C6.64651 40.3269 6.42286 40.2692 6.17627 40.2115C5.93542 40.1538 5.6917 40.0801 5.44511 39.9904C5.20426 39.9006 4.98348 39.7853 4.78277 39.6442C4.58206 39.4968 4.41862 39.3077 4.29246 39.0769C4.1663 38.8397 4.10322 38.5417 4.10322 38.1827C4.10322 37.7788 4.20071 37.4135 4.39569 37.0865C4.5964 36.7596 4.89459 36.4968 5.29028 36.2981C5.68596 36.0994 6.17914 36 6.7698 36C7.16549 36 7.55257 36.0513 7.93105 36.1538C8.31527 36.25 8.65647 36.3942 8.95467 36.5865L8.42996 38C8.14323 37.8269 7.85937 37.6987 7.57837 37.6154C7.29738 37.5256 7.02499 37.4808 6.7612 37.4808C6.52608 37.4808 6.33684 37.5096 6.19347 37.5673C6.05011 37.6186 5.94689 37.6891 5.88381 37.7788C5.82073 37.8686 5.78919 37.9712 5.78919 38.0865C5.78919 38.234 5.8494 38.3526 5.96983 38.4423C6.09599 38.5256 6.25942 38.5962 6.46013 38.6538C6.66658 38.7051 6.89023 38.7596 7.13108 38.8173C7.37766 38.875 7.62138 38.9487 7.86224 39.0385C8.10882 39.1218 8.33247 39.2372 8.53318 39.3846C8.73389 39.5256 8.89446 39.7147 9.01489 39.9519C9.14105 40.1827 9.20413 40.4744 9.20413 40.8269C9.20413 41.2179 9.10377 41.5801 8.90306 41.9135C8.70809 42.2404 8.41276 42.5032 8.01707 42.7019C7.62712 42.9006 7.13395 43 6.53755 43Z"
                  fill="currentColor"
                />
                <path
                  d="M11.6186 42.8654V37.6442H9.76923V36.1346H15.1626V37.6442H13.3218V42.8654H11.6186Z"
                  fill="currentColor"
                />
                <path
                  d="M16.2272 42.8654V36.1346H18.9798C19.5303 36.1346 20.0034 36.234 20.3991 36.4327C20.8005 36.6314 21.1102 36.9199 21.3281 37.2981C21.546 37.6699 21.655 38.1122 21.655 38.625C21.655 39.1314 21.546 39.5705 21.3281 39.9423C21.1102 40.3077 20.8005 40.5897 20.3991 40.7885C20.0034 40.9808 19.5303 41.0769 18.9798 41.0769H17.1734L17.9304 40.2788V42.8654H16.2272ZM19.9518 42.8654L18.4551 40.4135H20.2701L21.7754 42.8654H19.9518ZM17.9304 40.4808L17.1734 39.6058H18.8766C19.2321 39.6058 19.4959 39.5192 19.668 39.3462C19.8457 39.1731 19.9346 38.9327 19.9346 38.625C19.9346 38.3109 19.8457 38.0673 19.668 37.8942C19.4959 37.7212 19.2321 37.6346 18.8766 37.6346H17.1734L17.9304 36.7596V40.4808Z"
                  fill="currentColor"
                />
                <path
                  d="M26.0612 43C25.5795 43 25.135 42.9135 24.7279 42.7404C24.3207 42.5673 23.9652 42.3237 23.6612 42.0096C23.363 41.6891 23.1308 41.3173 22.9645 40.8942C22.7982 40.4712 22.715 40.0064 22.715 39.5C22.715 38.9936 22.7982 38.5288 22.9645 38.1058C23.1308 37.6827 23.363 37.3141 23.6612 37C23.9652 36.6795 24.3207 36.4327 24.7279 36.2596C25.135 36.0865 25.5795 36 26.0612 36C26.5486 36 26.993 36.0865 27.3944 36.2596C27.8016 36.4327 28.1543 36.6795 28.4525 37C28.7507 37.3141 28.9829 37.6827 29.1492 38.1058C29.3213 38.5288 29.4073 38.9936 29.4073 39.5C29.4073 40.0064 29.3213 40.4744 29.1492 40.9038C28.9829 41.3269 28.7507 41.6955 28.4525 42.0096C28.1543 42.3237 27.8016 42.5673 27.3944 42.7404C26.993 42.9135 26.5486 43 26.0612 43ZM26.0612 41.4231C26.2905 41.4231 26.5027 41.3782 26.6977 41.2885C26.8984 41.1987 27.0704 41.0705 27.2138 40.9038C27.3629 40.7308 27.4776 40.5256 27.5579 40.2885C27.6439 40.0513 27.6869 39.7885 27.6869 39.5C27.6869 39.2051 27.6439 38.9423 27.5579 38.7115C27.4776 38.4744 27.3629 38.2724 27.2138 38.1058C27.0704 37.9327 26.8984 37.8013 26.6977 37.7115C26.5027 37.6218 26.2905 37.5769 26.0612 37.5769C25.8318 37.5769 25.6167 37.6218 25.416 37.7115C25.221 37.8013 25.049 37.9327 24.8999 38.1058C24.7565 38.2724 24.6418 38.4744 24.5558 38.7115C24.4755 38.9423 24.4354 39.2051 24.4354 39.5C24.4354 39.7885 24.4755 40.0513 24.5558 40.2885C24.6418 40.5256 24.7565 40.7308 24.8999 40.9038C25.049 41.0705 25.221 41.1987 25.416 41.2885C25.6167 41.3782 25.8318 41.4231 26.0612 41.4231Z"
                  fill="currentColor"
                />
                <path
                  d="M31.9915 42.8654V40.0192L32.3872 41.1635L29.6948 36.1346H31.4926L33.4366 39.7788H32.3958L34.3484 36.1346H36L33.3162 41.1635L33.6947 40.0192V42.8654H31.9915Z"
                  fill="currentColor"
                />
                <path
                  d="M10.071 32C8.69678 32 7.37046 31.8269 6.09208 31.4808C4.82968 31.1181 3.79899 30.6566 3 30.0962L4.55803 26.4863C5.30908 26.9808 6.17198 27.3929 7.14675 27.7225C8.13749 28.0357 9.12025 28.1923 10.095 28.1923C10.7502 28.1923 11.2775 28.1346 11.677 28.0192C12.0765 27.8874 12.3641 27.7225 12.5399 27.5247C12.7317 27.3104 12.8276 27.0632 12.8276 26.783C12.8276 26.3874 12.6518 26.0742 12.3002 25.8434C11.9487 25.6126 11.4932 25.4231 10.934 25.2747C10.3747 25.1264 9.75145 24.978 9.06432 24.8297C8.39317 24.6813 7.71403 24.4918 7.0269 24.261C6.35575 24.0302 5.74053 23.7335 5.18124 23.3709C4.62195 22.9918 4.16652 22.5055 3.81497 21.9121C3.46341 21.3022 3.28764 20.5357 3.28764 19.6126C3.28764 18.5742 3.55929 17.6346 4.1026 16.794C4.6619 15.9533 5.49284 15.2775 6.59545 14.7665C7.69805 14.2555 9.07231 14 10.7182 14C11.8208 14 12.8995 14.1319 13.9541 14.3956C15.0248 14.6429 15.9756 15.0137 16.8065 15.5082L15.3444 19.1429C14.5454 18.6978 13.7544 18.3681 12.9714 18.1538C12.1884 17.9231 11.4293 17.8077 10.6943 17.8077C10.0391 17.8077 9.51175 17.8819 9.11226 18.0302C8.71276 18.1621 8.42513 18.3434 8.24935 18.5742C8.07357 18.8049 7.98569 19.0687 7.98569 19.3654C7.98569 19.7445 8.15347 20.0495 8.48905 20.2802C8.8406 20.4945 9.29603 20.6758 9.85532 20.8242C10.4306 20.956 11.0538 21.0962 11.7249 21.2445C12.4121 21.3929 13.0912 21.5824 13.7624 21.8132C14.4495 22.0275 15.0727 22.3242 15.632 22.7033C16.1913 23.0659 16.6387 23.5522 16.9743 24.1621C17.3259 24.7555 17.5016 25.5055 17.5016 26.4121C17.5016 27.4176 17.222 28.3489 16.6627 29.206C16.1194 30.0467 15.2964 30.7225 14.1938 31.2335C13.1072 31.7445 11.7329 32 10.071 32Z"
                  fill="currentColor"
                />
                <path
                  d="M19.6939 31.6538V14.3462H27.6279C29.4815 14.3462 31.1115 14.7005 32.5177 15.4093C33.9239 16.1181 35.0185 17.1154 35.8015 18.4011C36.6005 19.6868 37 21.2198 37 23C37 24.7637 36.6005 26.2967 35.8015 27.5989C35.0185 28.8846 33.9239 29.8819 32.5177 30.5907C31.1115 31.2995 29.4815 31.6538 27.6279 31.6538H19.6939ZM24.4399 27.7473H27.4361C28.3949 27.7473 29.2258 27.5659 29.929 27.2033C30.648 26.8242 31.2073 26.2802 31.6068 25.5714C32.0063 24.8462 32.2061 23.989 32.2061 23C32.2061 21.9945 32.0063 21.1374 31.6068 20.4286C31.2073 19.7198 30.648 19.1841 29.929 18.8214C29.2258 18.4423 28.3949 18.2527 27.4361 18.2527H24.4399V27.7473Z"
                  fill="currentColor"
                />
              </svg>

              <div className={style.header__logo__container}>
                <svg
                  width="99"
                  height="12"
                  viewBox="0 0 99 12"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M0 7.97449H3.69289C3.73461 8.2398 3.86501 8.47449 4.08408 8.67857C4.31358 8.87245 4.62132 9.02551 5.0073 9.13775C5.39328 9.23979 5.84707 9.29082 6.36866 9.29082C7.08846 9.29082 7.64657 9.20918 8.04298 9.04592C8.44983 8.88265 8.65325 8.63265 8.65325 8.29592C8.65325 8.06122 8.5385 7.87245 8.309 7.72959C8.07949 7.57653 7.62571 7.47449 6.94763 7.42347L4.88212 7.2551C3.19216 7.13265 1.96641 6.77551 1.20488 6.18367C0.453787 5.58163 0.0782391 4.77551 0.0782391 3.76531C0.0782391 2.93877 0.323388 2.25 0.813687 1.69898C1.30399 1.13775 1.98727 0.714286 2.86355 0.428571C3.73983 0.142857 4.77259 0 5.96182 0C7.10933 0 8.12644 0.158163 9.01315 0.474489C9.91029 0.790816 10.6197 1.2398 11.1413 1.82143C11.6733 2.39286 11.9654 3.06122 12.0175 3.82653H8.32464C8.28292 3.60204 8.16295 3.40816 7.96474 3.2449C7.77697 3.07143 7.50574 2.93878 7.15106 2.84694C6.79637 2.7551 6.37388 2.70918 5.88358 2.70918C5.23681 2.70918 4.72043 2.78571 4.33445 2.93878C3.9589 3.09184 3.77113 3.32143 3.77113 3.62755C3.77113 3.85204 3.88066 4.03571 4.09973 4.17857C4.32923 4.32143 4.74651 4.41837 5.35156 4.46939L7.62049 4.65306C8.74713 4.73469 9.65471 4.90816 10.3432 5.17347C11.0421 5.42857 11.5481 5.78061 11.8611 6.22959C12.174 6.66837 12.3305 7.22449 12.3305 7.89796C12.3305 8.71429 12.0801 9.43367 11.5794 10.0561C11.0787 10.6684 10.3745 11.148 9.46693 11.4949C8.56979 11.8316 7.51617 12 6.30607 12C5.06468 12 3.97455 11.8316 3.03568 11.4949C2.09681 11.1582 1.36136 10.6888 0.829335 10.0867C0.297309 9.47449 0.0208638 8.77041 0 7.97449Z"
                    fill="currentColor"
                  />
                  <path
                    d="M19.9106 0.260203C21.3189 0.260203 22.5499 0.5 23.6035 0.979592C24.6676 1.44898 25.4917 2.11225 26.0759 2.96939C26.6705 3.82653 26.9678 4.83673 26.9678 6C26.9678 7.15306 26.6705 8.16327 26.0759 9.03061C25.4917 9.88775 24.6676 10.5561 23.6035 11.0357C22.5499 11.5051 21.3189 11.7398 19.9106 11.7398H13.8706V0.260203H19.9106ZM17.4852 10.1939L15.8109 8.57143H20.1923C20.8286 8.57143 21.3763 8.46939 21.8353 8.26531C22.3048 8.05102 22.6647 7.75 22.915 7.36224C23.1654 6.97449 23.2906 6.52041 23.2906 6C23.2906 5.46939 23.1654 5.01531 22.915 4.63775C22.6647 4.25 22.3048 3.95408 21.8353 3.75C21.3763 3.53571 20.8286 3.42857 20.1923 3.42857H15.8109L17.4852 1.80612V10.1939Z"
                    fill="currentColor"
                  />
                  <path
                    d="M31.8458 7.97449H35.5387C35.5804 8.2398 35.7108 8.47449 35.9299 8.67857C36.1594 8.87245 36.4671 9.02551 36.8531 9.13775C37.2391 9.23979 37.6928 9.29082 38.2144 9.29082C38.9342 9.29082 39.4923 9.20918 39.8888 9.04592C40.2956 8.88265 40.499 8.63265 40.499 8.29592C40.499 8.06122 40.3843 7.87245 40.1548 7.72959C39.9253 7.57653 39.4715 7.47449 38.7934 7.42347L36.7279 7.2551C35.0379 7.13265 33.8122 6.77551 33.0507 6.18367C32.2996 5.58163 31.924 4.77551 31.924 3.76531C31.924 2.93877 32.1692 2.25 32.6595 1.69898C33.1498 1.13775 33.833 0.714286 34.7093 0.428571C35.5856 0.142857 36.6184 0 37.8076 0C38.9551 0 39.9722 0.158163 40.8589 0.474489C41.7561 0.790816 42.4654 1.2398 42.987 1.82143C43.519 2.39286 43.8111 3.06122 43.8633 3.82653H40.1704C40.1287 3.60204 40.0087 3.40816 39.8105 3.2449C39.6227 3.07143 39.3515 2.93878 38.9968 2.84694C38.6421 2.7551 38.2197 2.70918 37.7294 2.70918C37.0826 2.70918 36.5662 2.78571 36.1802 2.93878C35.8047 3.09184 35.6169 3.32143 35.6169 3.62755C35.6169 3.85204 35.7264 4.03571 35.9455 4.17857C36.175 4.32143 36.5923 4.41837 37.1973 4.46939L39.4663 4.65306C40.5929 4.73469 41.5005 4.90816 42.189 5.17347C42.8879 5.42857 43.3939 5.78061 43.7068 6.22959C44.0198 6.66837 44.1763 7.22449 44.1763 7.89796C44.1763 8.71429 43.9259 9.43367 43.4252 10.0561C42.9244 10.6684 42.2203 11.148 41.3127 11.4949C40.4156 11.8316 39.3619 12 38.1518 12C36.9104 12 35.8203 11.8316 34.8814 11.4949C33.9426 11.1582 33.2071 10.6888 32.6751 10.0867C32.1431 9.47449 31.8666 8.77041 31.8458 7.97449Z"
                    fill="currentColor"
                  />
                  <path
                    d="M48.965 1.80612H52.6109V11.7398H48.965V1.80612ZM44.6149 0.260203H56.961V3.42857H44.6149V0.260203Z"
                    fill="currentColor"
                  />
                  <path
                    d="M60.812 5.21939H64.9117C65.3707 5.21939 65.7254 5.11735 65.9758 4.91327C66.2365 4.70918 66.367 4.41327 66.367 4.02551C66.367 3.63775 66.2365 3.34184 65.9758 3.13775C65.7254 2.93367 65.3707 2.83163 64.9117 2.83163H60.2956L61.9386 1.17857V11.7398H58.2927V0.260203H65.4594C66.367 0.260203 67.165 0.418367 67.8535 0.734694C68.542 1.05102 69.0792 1.4898 69.4652 2.05102C69.8512 2.61225 70.0442 3.27041 70.0442 4.02551C70.0442 4.7602 69.8512 5.41327 69.4652 5.98469C69.0792 6.54592 68.542 6.98469 67.8535 7.30102C67.165 7.60714 66.367 7.7602 65.4594 7.7602H60.812V5.21939ZM62.3768 6.36735H66.4295L70.4667 11.7398H66.2887L62.3768 6.36735Z"
                    fill="currentColor"
                  />
                  <path
                    d="M78.251 12C76.8427 12 75.6065 11.75 74.5424 11.25C73.4888 10.75 72.6647 10.051 72.0701 9.15306C71.4859 8.2551 71.1938 7.20408 71.1938 6C71.1938 4.79592 71.4859 3.7449 72.0701 2.84694C72.6647 1.94898 73.4888 1.25 74.5424 0.749999C75.6065 0.25 76.8427 0 78.251 0C79.6593 0 80.8903 0.25 81.9439 0.749999C83.0079 1.25 83.832 1.94898 84.4162 2.84694C85.0108 3.7449 85.3082 4.79592 85.3082 6C85.3082 7.20408 85.0108 8.2551 84.4162 9.15306C83.832 10.051 83.0079 10.75 81.9439 11.25C80.8903 11.75 79.6593 12 78.251 12ZM78.251 8.83163C78.9499 8.83163 79.5498 8.71939 80.0505 8.4949C80.5616 8.2602 80.9528 7.93367 81.2241 7.51531C81.4953 7.08673 81.6309 6.58163 81.6309 6C81.6309 5.41837 81.4953 4.91837 81.2241 4.5C80.9528 4.07143 80.5616 3.7449 80.0505 3.52041C79.5498 3.28571 78.9499 3.16837 78.251 3.16837C77.552 3.16837 76.947 3.28571 76.4358 3.52041C75.9351 3.7449 75.5491 4.07143 75.2779 4.5C75.0067 4.91837 74.871 5.41837 74.871 6C74.871 6.58163 75.0067 7.08673 75.2779 7.51531C75.5491 7.93367 75.9351 8.2602 76.4358 8.4949C76.947 8.71939 77.552 8.83163 78.251 8.83163Z"
                    fill="currentColor"
                  />
                  <path
                    d="M89.893 11.7398V6.10714H93.5389V11.7398H89.893ZM84.4006 0.260203H88.4064L92.4905 5.37245H90.9257L94.9942 0.260203H99L92.8817 7.89796L90.5345 7.94388L84.4006 0.260203Z"
                    fill="currentColor"
                  />
                </svg>

                <p>Проектируем и строим в Чувашской Республике с 2012г.</p>
              </div>
            </div>
          </Link>

          <nav>
            <ul>
              <li>
                <Link to="/">Услуги</Link>
              </li>

              <li>
                <Link to="/">Каталог домов</Link>
              </li>

              <li>
                <Link to="/">Ипотека</Link>
              </li>

              <li>
                <Link to="/">О нас</Link>
              </li>

              <li>
                <Link to="/">Контакты</Link>
              </li>
            </ul>
          </nav>

          <div className={style.header__contacts}>
            <div className={style.header__contacts__phone}>
              <Link to="tel:+79672123132">+7 967 212 31 32</Link>
              <p>Пн - Вс с 8:00 до 18:00</p>
            </div>

            <Link to="#contacts">Оставить заявку</Link>
          </div>

          <button
            className={style.header__menu}
            onClick={() => setOpenMenu(!openMenu)}
          >
            <div className={style.header__menu__content}></div>
          </button>
        </div>
      </div>

      <div
        className={style.header__menu__open}
        style={
          openMenu
            ? { transform: "translateX(0px)", display: "flex" }
            : { transform: "translateX(10000px)", display: "none" }
        }
      >
        <div className={style.header__menu__wrapper}>
          <nav>
            <ul>
              <li>
                <Link to="/">Услуги</Link>
              </li>

              <li>
                <Link to="/">Каталог домов</Link>
              </li>

              <li>
                <Link to="/">Ипотека</Link>
              </li>

              <li>
                <Link to="/">О нас</Link>
              </li>

              <li>
                <Link to="/">Контакты</Link>
              </li>
            </ul>
          </nav>

          <div className={style.header__menu__phone}>
            <Link to="#contacts">Оставить заявку</Link>
            <Link to="tel:+79672123132">+7 967 212 31 32</Link>
            <p>Пн - Вс с 8:00 до 18:00</p>
          </div>
        </div>
      </div>
    </header>
  );
};

export default Header;
